webpackJsonp([1],{"+Gxq":function(e,t,n){"use strict";var r=n("fnDg").a;var a=n("VU/8")(r,null,!1,function(e){n("4veK")},null,null);t.a=a.exports},"4veK":function(e,t){},"9M+g":function(e,t){},GcMe:function(e,t){},"HUt/":function(e,t,n){"use strict";var r=n("qRo1").a;var a=n("VU/8")(r,null,!1,function(e){n("n9mN")},null,null);t.a=a.exports},JCpY:function(e,t,n){"use strict";var r=n("rKsW").a;var a=n("VU/8")(r,null,!1,function(e){n("xBwK")},null,null);t.a=a.exports},JDVb:function(e,t,n){"use strict";var r=n("9NuQ").a;var a=n("VU/8")(r,null,!1,function(e){n("Y9O/")},null,null);t.a=a.exports},Jmt5:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a=n("NYxO"),s={name:"user-form",data:function(){return{username:""}},computed:Object(a.c)(["loading"]),mounted:function(){localStorage&&(this.username=localStorage.getItem("username")||"")&&this.$store.dispatch("setUsername",this.username)},methods:{onSubmit:function(){localStorage&&localStorage.setItem("username",this.username),this.$store.dispatch("setUsername",this.username)}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{on:{submit:function(t){t.preventDefault(),e.onSubmit(t)}}},[n("b-form-input",{staticClass:"gfb-input",attrs:{type:"text",size:"sm",placeholder:"Username",disabled:e.loading,autofocus:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)},staticRenderFns:[]};var o=n("VU/8")(s,u,!1,function(e){n("p+gv")},null,null).exports,l=n("EFqf"),i=n.n(l),c={props:{user:Object},name:"user-feeds",methods:{time:function(e){return new Date(e).toDateString()},marked:function(e){return e?i()(e):""}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{attrs:{"header-tag":"header"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("b-row",[n("b-col",{attrs:{cols:"auto"}},[n("img",{staticClass:"rounded-circle avatar",attrs:{src:e.user.avatarUrl,alt:"Avatar"}})]),e._v(" "),n("b-col",[n("a",{attrs:{href:"https://github.com/"+e.user.username,target:"_blank"}},[e._v(e._s(e.user.username))])])],1)],1),e._v(" "),e.user.feeds.length>0?n("div",[n("b-table",{attrs:{items:e.user.feeds,bordered:"",responsive:""},scopedSlots:e._u([{key:"timestamp",fn:function(t){return[e._v(e._s(e.time(t.value)))]}},{key:"details",fn:function(t){return[t.value.list?n("div",e._l(t.value.links,function(r,a){return n("div",[n("b-link",{attrs:{href:r,id:e.user.username+"-"+t.index+"-"+a,target:"_blank"},domProps:{innerHTML:e._s(e.marked(t.value.texts[a]))}}),e._v(" "),t.value.details[a]?n("b-popover",{attrs:{target:e.user.username+"-"+t.index+"-"+a,triggers:"hover"}},[n("div",{domProps:{innerHTML:e._s(e.marked(t.value.details[a]))}})]):e._e()],1)})):n("div",[t.value.detail?n("b-popover",{attrs:{target:e.user.username+"-"+t.index,triggers:"hover"}},[n("div",{domProps:{innerHTML:e._s(e.marked(t.value.detail))}})]):e._e(),e._v(" "),n("b-link",{attrs:{href:t.value.link,id:e.user.username+"-"+t.index,target:"_blank"},domProps:{innerHTML:e._s(e.marked(t.value.text))}})],1)]}}])})],1):n("div",[e._v("\n    No recent activity.\n  ")])])},staticRenderFns:[]};var d={components:{UserForm:o,UserFeeds:n("VU/8")(c,m,!1,function(e){n("TLnW")},null,null).exports},name:"app",computed:Object(a.c)(["username","loading","feeds"]),methods:Object(a.b)(["setUsername"])},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"gfb-container"},[n("b-card",{attrs:{title:"Github Feed Burner"}},[n("user-form",{on:{submit:e.setUsername}}),e._v(" "),e.feeds.my&&!e.loading?n("b-tabs",[n("b-tab",{attrs:{title:"My Feeds",active:""}},[n("user-feeds",{attrs:{user:e.feeds.my}})],1),e._v(" "),e.feeds.followers.length>0?n("b-tab",{attrs:{title:"Followers"}},e._l(e.feeds.followers,function(e){return n("user-feeds",{key:e.username,attrs:{user:e}})})):e._e(),e._v(" "),e.feeds.following.length>0?n("b-tab",{attrs:{title:"Following"}},e._l(e.feeds.following,function(e){return n("user-feeds",{key:e.username,attrs:{user:e}})})):e._e()],1):e._e()],1)],1)},staticRenderFns:[]};var v=n("VU/8")(d,f,!1,function(e){n("W301")},null,null).exports,p=n("//Fk"),g=n.n(p),h=n("d7EF"),b=n.n(h),_=n("mtWM"),k=n.n(_),F={text:"",detail:"",link:""};function x(e){var t=e.indexOf("\n");return t>0?e.slice(0,t):e}var w="https://api.github.com";function y(e){return k.a.get(w+"/users/"+e+"/events/public").then(function(e){return e.data.map(function(e){return{timestamp:e.created_at,activity:e.type.replace(/Event/,""),details:function(e){var t=e.payload;switch(e.type){case"CommitCommentEvent":return{text:x(t.comment.body),detail:t.comment.body||"",link:t.comment.html_url};case"CreateEvent":case"DeleteEvent":return{text:"repository"===t.ref_type?e.repo.name:e.repo.name+"/"+t.ref,detail:t.description||"",link:"https://github.com/"+e.repo.name};case"ForkEvent":return{text:e.repo.name,detail:t.forkee.description||"",link:t.forkee.html_url};case"GollumEvent":return{text:e.repo.name,detail:"",link:e.repo.url+"/wiki"};case"IssueCommentEvent":return{text:x(t.comment.body),detail:t.comment.body,link:t.comment.html_url};case"IssuesEvent":return{text:t.issue.title,detail:t.issue.body||"",link:t.issue.html_url};case"MemberEvent":return{text:e.repo.name+"/"+t.action+"/"+t.member.login,detail:"",link:e.repo.url};case"ProjectEvent":return{text:t.action+" - "+t.project.name,detail:"",link:e.repo.url};case"PublicEvent":return{text:e.repo.name,detail:"",link:e.repo.url};case"PullRequestEvent":return{text:t.action+" - "+t.pull_request.title,detail:"",link:t.pull_request.html_url};case"PullRequestReviewEvent":return{text:t.action+" - "+x(t.review.body),detail:t.review.body||"",link:t.review.html_url};case"PullRequestReviewCommentEvent":return{text:t.action+" - "+x(t.comment.body),detail:t.comment.body||"",link:t.comment.html_url};case"PushEvent":return{texts:t.commits.map(function(e){return x(e.message)}),details:t.commits.map(function(e){return e.message}),links:t.commits.map(function(t){return"https://github.com/"+e.repo.name+"/commit/"+t.sha}),list:!0};case"ReleaseEvent":return{text:t.release.name,detail:t.release.body||"",link:t.release.html_url};case"WatchEvent":return{text:e.repo.name,detail:"",link:"https://github.com/"+e.repo.name};default:return F}}(e)}})})}function U(e){return g.a.all([(t=e,k.a.get(w+"/users/"+t).then(function(e){var t=e.data;return{username:t.login,avatarUrl:t.avatar_url}})),y(e)]).then(function(e){var t=b()(e,2),n=t[0];return{username:n.username,avatarUrl:n.avatarUrl,feeds:t[1]}});var t}function E(e){return(t=e,k.a.get(w+"/users/"+t+"/followers?per_page=100").then(function(e){return e.data.map(function(e){return{username:e.login,avatarUrl:e.avatar_url}})})).then(function(e){return g.a.all(e.map(function(e){return y(e.username)})).then(function(t){return e.map(function(e,n){return{username:e.username,avatarUrl:e.avatarUrl,feeds:t[n]}})})});var t}function M(e){return(t=e,k.a.get(w+"/users/"+t+"/following?per_page=100").then(function(e){return e.data.map(function(e){return{username:e.login,avatarUrl:e.avatar_url}})})).then(function(e){return g.a.all(e.map(function(e){return y(e.username)})).then(function(t){return e.map(function(e,n){return{username:e.username,avatarUrl:e.avatarUrl,feeds:t[n]}})})});var t}r.a.use(a.a);var S=new a.a.Store({state:{username:"",loading:!1,feeds:{my:null,followers:[],following:[]}},actions:{setUsername:function(e,t){var n=e.commit,r=e.dispatch;return t?(n("setUsername",t),n("setLoading",!0),g.a.all([r("getMyFeeds"),r("getFollowersFeeds"),r("getFollowingFeeds")]).catch(function(e){console.error(e),r("resetStore")}).finally(function(){return n("setLoading",!1)})):r("resetStore")},getMyFeeds:function(e){var t=e.state,n=e.commit;return U(t.username).then(function(e){return n("setMyFeeds",e)})},getFollowersFeeds:function(e){var t=e.state,n=e.commit;return E(t.username).then(function(e){return n("setFollowersFeeds",e)})},getFollowingFeeds:function(e){var t=e.state,n=e.commit;return M(t.username).then(function(e){return n("setFollowingFeeds",e)})},resetStore:function(e){var t=e.commit;t("setUsername",""),t("setMyFeeds",null),t("setFollowersFeeds",[]),t("setFollowingFeeds",[])}},mutations:{setUsername:function(e,t){e.username=t},setLoading:function(e,t){e.loading=t},setMyFeeds:function(e,t){e.feeds.my=t},setFollowersFeeds:function(e,t){e.feeds.followers=t},setFollowingFeeds:function(e,t){e.feeds.following=t}}}),P=n("e6fC");n("Jmt5"),n("9M+g");r.a.use(P.a);n("GcMe");r.a.config.productionTip=!1,new r.a({el:"#app",store:S,components:{App:v},template:"<app/>"})},TLnW:function(e,t){},W301:function(e,t){},"Y9O/":function(e,t){},dW2o:function(e,t){},n9mN:function(e,t){},"p+gv":function(e,t){},r15W:function(e,t,n){"use strict";var r=n("E9Zr").a;var a=n("VU/8")(r,null,!1,function(e){n("dW2o")},null,null);t.a=a.exports},xBwK:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.11337d4a5a04f05bd396.js.map